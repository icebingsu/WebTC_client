(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[829],{477:()=>{},2727:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var s=r(5155),a=r(2115);function n(e){let{desc:t=""}=e,r=(0,a.useRef)(null);return(0,a.useEffect)(()=>{let e=r.current;if(e){let t=0,r=()=>{t+=1,e.style.transform="rotate(".concat(t,"deg)"),requestAnimationFrame(r)};r()}},[]),(0,s.jsxs)("div",{className:"flex justify-center items-center p-10 flex-col w-full ",children:[(0,s.jsx)("div",{ref:r,className:" border-8 border-t-8 border-blue-500 border-solid rounded-full w-16 h-16",children:(0,s.jsx)("div",{className:"absolute inset-0 m-auto w-10 h-10 border-4 border-solid border-t-transparent border-r-transparent border-b-transparent border-l-blue-500 rounded-full animate-spin"})}),t&&(0,s.jsx)("div",{className:"mt-4 text-center",children:t})]})}},2955:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5155),a=r(2115),n=r(3568),o=r(2109),c=r.n(o),u=r(2727),i=r(5695);function l(){let[e,t]=(0,a.useState)(""),[r,o]=(0,a.useState)(""),[l,h]=(0,a.useState)(0),[d,f]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!0),g=(0,i.useRouter)();(0,a.useEffect)(()=>{(async()=>{let e=localStorage.getItem("user");if(e)try{let t=c().AES.decrypt(e,"icebingsu365").toString(c().enc.Utf8),r=t?JSON.parse(t):null;if(r&&!0===r.authenticate){let e=await fetch("".concat("https://webtc-cv5w.onrender.com","/users?username=").concat(r.username,"&password=").concat(r.password));(await e.json()).length>=1?g.push("/dashboard/khach-hang"):p(!1)}else p(!1)}catch(e){console.error("Giải m\xe3 thất bại:",e),p(!1)}else p(!1)})()},[g]);let v=async t=>{if(t.preventDefault(),h(e=>e+1),l>=7)return;if(l>=4&&l<=6)return void n.Ay.error("kh\xf4ng spam submit form",{duration:2e3});if(!e||!r)return void n.Ay.error("Nhập đầy đủ th\xf4ng tin!",{duration:1e3});let s=await fetch("".concat("https://webtc-cv5w.onrender.com","/users?username=").concat(e,"&password=").concat(r)),a=await s.json();if(a.length>=1){let e=c().AES.encrypt(JSON.stringify(a[0]),"".concat("icebingsu365")).toString();localStorage.setItem("user",e),n.Ay.success("Đăng nhập th\xe0nh c\xf4ng",{duration:2e3}),p(!0),h(0),f(!0),setTimeout(()=>{p(!1),g.push("/dashboard/khach-hang")},3e3)}else n.Ay.error("t\xe0i khoản hoặc mật khẩu sai !",{duration:2e3})};return(0,a.useEffect)(()=>{if(l>0){let e=setTimeout(()=>h(0),5e4);return()=>clearTimeout(e)}},[l]),(0,s.jsx)("div",{children:m?(0,s.jsx)(u.A,{desc:"Đang x\xe1c thực đăng nhập vui l\xf2ng chờ..."}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("form",{onSubmit:d?e=>e.preventDefault():v,className:"flex flex-col gap-3 max-w-sm mx-auto p-10",children:[(0,s.jsx)("input",{placeholder:"Nhập th\xf4ng tin t\xe0i khoản",className:"p-2 border border-[#2673B4] rounded focus:outline-none focus:ring-2 focus:ring-[#1271C0] placeholder:text-slate-400 placeholder:italic",type:"text",value:e,onChange:e=>t(e.target.value)}),(0,s.jsx)("input",{placeholder:"Nhập mật khẩu",className:"p-2 border border-[#2673B4] rounded focus:outline-none focus:ring-2 focus:ring-[#1271C0] placeholder:text-slate-400",type:"password",value:r,onChange:e=>o(e.target.value)}),(0,s.jsxs)("button",{type:"submit",className:"flex items-center justify-center gap-2 px-4 py-2 bg-[#2673B4] text-white rounded hover:bg-[#21436B]",children:[(0,s.jsx)("svg",{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"arrow-right-to-bracket",className:"svg-inline--fa fa-arrow-right-to-bracket w-5 h-5",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:(0,s.jsx)("path",{fill:"currentColor",d:"M192 128c0-17.7 14.3-32 32-32h192c17.7 0 32 14.3 32 32v64h64v-64c0-53-43-96-96-96H224c-53 0-96 43-96 96v64h64v-64zm64 192v64H224v-64H96v96c0 53 43 96 96 96h192c53 0 96-43 96-96v-96H384v64H256zm0-64h64V192H256v64H160v64h96v64h64V256z"})}),"Đăng nhập"]})]})})})}},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},9230:(e,t,r)=>{Promise.resolve().then(r.bind(r,2955))}},e=>{var t=t=>e(e.s=t);e.O(0,[568,109,441,684,358],()=>t(9230)),_N_E=e.O()}]);